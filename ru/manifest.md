# Манифест metaL

https://www.notion.so/metaL-be1a689763c94f2aa1074f6fb5373628

- **no-syntax язык** определённый на **исполняемых структурах данных** (**EDS**, *executable data structures*)
    - нет синтаксического парсера и файлов исходного кода
    - любая составная структура данных может быть
      [активной](https://www.notion.so/metalang/Active-41b3cfc2de9e46538ff689a08ab98164)
      за счет использования **EDS-интерпретатора** который выполняет её
      программно
- самая универсальная структура данных это [объектный граф](https://en.wikipedia.org/wiki/Object_graph) (фреймы)
    - концепция **фреймов** взята из *[Марвин Мински* Фреймы для представления
      знаний](https://royallib.com/read/minskiy_marvin/freymi_dlya_predstavleniya_znaniy.html#0)
      [[minsky](https://web.media.mit.edu/~minsky/papers/Frames/frames.html)] и
      расширена возможностью *упорядоченного хранения*
    - любой объект
      [Object](https://www.notion.so/metalang/Object-2639c9b82f13498cb95c5aaa5e6e752a)
      должен иметь следующие поля:
        - `class:tape` тэг хранит в рантайме тип каждого объекта (имя класса в нижнем регистре)
        - `scalar:value` одиночное **скалярное значение**: имя объекта, строка, число,.. (в типе хост-языка)
        - `dict:slot{}` **ассоциативный массив** имён привязанных к подграфам
        - `vector:nest[]` **упорядоченный контейнер** для вложенных подграфов
        - `set:par||` сет ссылок на **родительские элементы** (необходимо для
          вычисления в [атрибутных
          грамматиках](https://neerc.ifmo.ru/wiki/index.php?title=%D0%90%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82%D0%BD%D1%8B%D0%B5_%D1%82%D1%80%D0%B0%D0%BD%D1%81%D0%BB%D0%B8%D1%80%D1%83%D1%8E%D1%89%D0%B8%D0%B5_%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B8),
          и адресации родительских узлов)
            - `ref ~ len(par)` счетчик ссылок не используется явно, так как
              реестр `par` выполняет его роль, и должен быть обойден для
              проверки наличия ссылок на текущий объект (пересчет хэшей,
              обновление связанных внешних ресурсов)          
        - `int32:gid` **уникальный идентификатор глобального хранилища**  —
          быстрый 32-битный хэш [xxhash](http://cyan4973.github.io/xxHash/) по
          содержимому объекта
            - **metaL** внимательно смотрит на концепт
              [UnisonWeb](https://www.unisonweb.org/talks) о применении
              иммутабельного глобального хранилища с разделяемыми объектами,
              адресуемыми по их хэшам
        - необязательные поля, специфичные для конкретных классов узлов
          объектного графа
    - любые графы, составленные из узлов, **наследованных от Object**, имеют
      унифицированный интерфейс для их построения и модификации
- основной метод программирования на metaL — **генеративное метапрограммирование**
    - **metaL как метод** это сэндвич из трёх языков:
        - **хост-язык** на котором ведётся вся работа, и реализуются остальные
          слои /Python/
        - **мета-слой** [metaL]ayer реализуется как интерпретация *исполняемых
          структур данных* (EDS,
          [гомоиконный](https://ru.wikipedia.org/wiki/%D0%93%D0%BE%D0%BC%D0%BE%D0%B8%D0%BA%D0%BE%D0%BD%D0%B8%D1%87%D0%BD%D0%BE%D1%81%D1%82%D1%8C)
          объектный граф)
        - **целевые языки**: любой проект использует не менее 3..5 языков
          программирования, скриптовых, конфигурации, и т.д.    
- the programmer builds his own version of the metaL system from scratch
